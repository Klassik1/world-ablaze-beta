focus_tree = {
	id = german_focus
	
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = GER
		}
	}
	continuous_focus_position = { x = 0 y = 1200 }
	
	default = no
###INDUSTRY TREE ###
	focus = {
		id = GER_four_year_plan
		icon = GFX_goal_start_the_four_year_plan
		x = 10
		y = 1
		cost = 4
		ai_will_do = {
			factor = 12
		}
		
		completion_reward = {
			country_event = { id = ger_armor.823 }
			effect_tooltip = {
				swap_ideas = {
					remove_idea = economic_divide
					add_idea = economic_divide_2
				}
			}
		}
	}
	focus = {
		id = GER_appoint_hermann_goring
		icon = GFX_goal_appoint_hermann_goring
		mutually_exclusive = { focus = GER_continue_with_schachtian }
		prerequisite = { focus = GER_four_year_plan }
		x = 0
		y = 1
		relative_position_id = GER_four_year_plan
		cost = 4
		
		available = {
			NOT = { has_government = democratic }
			NOT = { has_government = communism }
			NOT = { has_government = neutrality }
		}
		
		
		ai_will_do = {
			factor = 1
		}

		completion_reward = {
			custom_effect_tooltip = GER_appoint_hermann_goring_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = walther_funk
			add_popularity = {
				ideology = fascism
				popularity = 0.10
			}
			add_tech_bonus = {
				name = GER_hermann_goring
				bonus = 0.5
				uses = 1
				category = excavation_tech
			}
			if = {
				limit = {
					has_idea = economic_divide
				}
				remove_ideas = economic_divide
			}
			else_if = {
				limit = {
					has_idea = economic_divide_2
				}
				remove_ideas = economic_divide_2
			}
		}
	}
	focus = {
		id = GER_continue_autarky
		icon = GFX_goal_tfv_saf_support_ossebrandwag
		prerequisite = { focus = GER_appoint_hermann_goring }
		relative_position_id = GER_appoint_hermann_goring
		x = 0
		y = 1
		cost = 5
		ai_will_do = {
			factor = 9
		}
		
		completion_reward = {
			add_political_power = 150
			add_tech_bonus = {
				name = GER_autarky
				bonus = 0.5
				uses = 2
				technology = excavation1
				technology = excavation2
				technology = excavation3
				technology = excavation4
				technology = excavation5
			}
			reverse_add_opinion_modifier = { target = HOL modifier = autarky_measures }
			reverse_add_opinion_modifier = { target = BEL modifier = autarky_measures }
			reverse_add_opinion_modifier = { target = LUX modifier = autarky_measures }
			reverse_add_opinion_modifier = { target = INS modifier = autarky_measures }
			reverse_add_opinion_modifier = { target = CHI modifier = autarky_measures }
			reverse_add_opinion_modifier = { target = PRC modifier = autarky_measures }
			reverse_add_opinion_modifier = { target = MAN modifier = autarky_measures }
			reverse_add_opinion_modifier = { target = MEX modifier = autarky_measures }
			reverse_add_opinion_modifier = { target = FRA modifier = autarky_measures }
		}
	}
	focus = {
		id = GER_appoint_fritz_todt
		icon = GFX_goal_generic_production2
		prerequisite = { focus = GER_appoint_hermann_goring }
		x = 5
		y = 1
		relative_position_id = GER_appoint_hermann_goring

		available = {
			has_war = yes
			has_completed_focus = GER_organization_todt
		}

		bypass = {			
			has_country_flag = todt_died
		}

		cost = 5
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = todt
			add_tech_bonus = {
				name = GER_a_continental_army
				bonus = 2.0	
				uses = 1
				technology = industry_organization
				technology = industry_organization3
				technology = industry_organization5
			}
		}
	}
	focus = {
		id = GER_organization_todt
		icon = GFX_goal_generic_production
		prerequisite = { focus = GER_appoint_fritz_todt }
		x = 0
		y = 1
		relative_position_id = GER_appoint_fritz_todt

		bypass = {			
			has_country_flag = todt_died
		}

		available = {
			has_completed_focus = GER_reichsarbeitsdienst
		}

		cost = 3
		ai_will_do = {
			factor = 1
		}
		
		completion_reward = {
			add_ideas = { GER_organization_todt }
			add_tech_bonus = {
				name = GER_a_continental_army
				bonus = 0.5	
				uses = 2
				category = construction_tech
			}
		}
	}
	focus = {
		id = GER_reichsarbeitsdienst
		icon = GFX_goal_rls
		prerequisite = { focus = GER_organization_todt }
		x = 0
		y = 1
		relative_position_id = GER_organization_todt
		cost = 3
		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_idea = disarmed_nation }
			NOT = { has_idea = volunteer_only }
		}
		
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			economy_fatigue_level_down_4 = yes
			add_ideas = ger_rls
		}
	}
	focus = {
		id = GER_autobahn
		icon = GFX_goal_roads
		prerequisite = { focus = GER_reichsarbeitsdienst }
		x = -1
		y = 1
		relative_position_id = GER_reichsarbeitsdienst
		cost = 6
		ai_will_do = {
			factor = 12
		}
		
		completion_reward = {
			economy_fatigue_level_down_4 = yes
			add_tech_bonus = {
				name = GER_autobahn
				bonus = 0.5
				uses = 1
				technology = industry_infrastructure
				technology = industry_infrastructure2
				technology = industry_infrastructure3
				technology = industry_infrastructure4
				technology = industry_infrastructure5
				technology = industry_infrastructure6
			}
			60 = {
				if = {
					limit = { is_controlled_by = ROOT }

					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}
			66 = {
				if = {
					limit = { is_controlled_by = ROOT }

					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			67 = {
				if = {
					limit = { is_controlled_by = ROOT }

					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			65 = {
				if = {
					limit = { is_controlled_by = ROOT }

					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			61 = {
				if = {
					limit = { is_controlled_by = ROOT }

					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			55 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			802 = {
				if = {
					limit = { is_controlled_by = ROOT }

					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
			}
			57 = {
				if = {
					limit = { is_controlled_by = ROOT }

					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			64 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			54 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			50 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			801 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			59 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			42 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			800 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}		
		}
	}
	focus = {
		id = GER_deutsche_albriet_front
		icon = GFX_goal_daf
		prerequisite = { focus = GER_autobahn }
		x = 1
		y = 1
		relative_position_id = GER_autobahn
		cost = 3
		ai_will_do = {
			factor = 1
		}

		available = {
			NOT = { has_idea = disarmed_nation }
			NOT = { has_idea = volunteer_only }
		}
		
		completion_reward = {
			60 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			add_ideas = ger_daf
		}
	}
	############################################
	############### ARMY BRANCH ################
	############################################
	focus = {
		id = GER_realization_of_the_wehrmacht
		icon = GFX_focus_generic_military_mission
		x = 30
		y = 1
		cost = 3
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			army_experience = 30
		}
	}
	focus = {
		id = GER_selection_of_the_okw
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = GER_realization_of_the_wehrmacht }
		x = 0
		y = 1
		relative_position_id = GER_realization_of_the_wehrmacht
		cost = 3
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = available_chief_of_army
			show_ideas_tooltip = wilhelm_keitel
			custom_effect_tooltip = available_high_command
			show_ideas_tooltip = erwin_rommel
			custom_effect_tooltip = GER_create_general_alfred_jodl_tt
		}
	}
	############################################
	############## NAVAL BRANCH ###############
	############################################
	focus = {
		id = GER_naval_rearmament
		icon = GFX_goal_construct_naval_dockyard
		x = 10
		y = 1
		cost = 5
		ai_will_do = {
			factor = 1
		}
		prerequisite = { focus = GER_realization_of_the_wehrmacht }
		relative_position_id = GER_realization_of_the_wehrmacht

		available_if_capitulated = yes

		completion_reward = {
			custom_effect_tooltip = GER_naval_rearmament_tt
			add_ideas = GER_naval_rearmament_spirit
		}
		bypass = {
			OR = {
				has_idea = war_economy
				has_idea = tot_economic_mobilisation
			}
		}
	}
	focus = {
		id = GER_prepare_sealion
		icon = GFX_goal_focus_on_uk
		prerequisite = { focus = GER_naval_rearmament }
		x = 0
		y = 3
		relative_position_id = GER_naval_rearmament
		cost = 4

		available = {
			NOT = {
				any_home_area_neighbor_country = {
					has_war_with = ROOT					
				}		
			}
		}
		
		bypass = {
			OR = {
				ENG = { surrender_progress > 0 }
				ENG = { has_capitulated = yes }
			}
		}

		cancel_if_invalid = yes
		available_if_capitulated = no

		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_timed_idea = { idea = prepare_sealion days = 90 }
			add_tech_bonus = {
				name = GER_prepare_sealion_bonus
				bonus = 0.5
				uses = 1
				technology = ger_amphibious_1
			}
			add_doctrine_cost_reduction = {
				name = GER_prepare_sealion_bonus
				cost_reduction = 0.99
				uses = 2
				category = cat_strategic_destruction
			}
		}
	}
    focus = {
        id = GER_marinestobtruppabteilung
        icon = GFX_goal_generic_amphibious_assault
        prerequisite = { focus = GER_prepare_sealion }
        x = -1
        y = 1
        relative_position_id = GER_prepare_sealion
        cost = 3
        ai_will_do = {
            factor = 1
        }
        
        available_if_capitulated = yes
        
        completion_reward = {
            add_tech_bonus = {
				name = marine_bonus
				bonus = 0.5
				uses = 2
				category = marine_tech
			}
			custom_effect_tooltip = GER_create_unit_marinestobtruppabteilung_tt
            hidden_effect = {
                division_template = {
                    name = "Marinestoßtruppabteilung Battalion"

                    division_names_group = GER_MAR_01

                    regiments = {						
                        marine = { x = 0 y = 0 }
                    }

                    support = {
                        engineer = { x = 0 y = 0 }
                        recon = { x = 0 y = 1 }
                    }
                }
            }
        }
    }